# Stage 2 — Patch Index (2025-12-12)

This note is a concise “diff index” for the Dec 12, 2025 session.

---

## LaTeX compliance + layout patches

- **`paper/tables/options.tex`**
  - **Goal**: Fit Table 2 cleanly in a column; eliminate `CONCLUDE` legend hyphenation; remain AAAI-compliant.
  - **Key edits**:
    - Tightened column widths via `p{...}` columns.
    - Removed negative line spacing near the table; kept caption under table.
    - Adjusted the `CONCLUDE` legend to two explicit lines without hyphenation artifacts.

- **`paper/sokrates.tex`**
  - **Goal**: Reduce layout noise (no stretched words in tables, no awkward equation breaks, no overflow).
  - **Key edits**:
    - DPO equation rewritten to a one-line equivalent ratio form.
    - OaK mapping table: ragged-right columns + increased left column width + increased row spacing (instead of heavy per-row lines).
    - Minor consistency edits for option naming and hyperparameter statements.

- **`paper/tables/main_results.tex`**, **`paper/tables/hyperparams.tex`**, **`paper/tables/transfer.tex`**, **`paper/tables/ablations.tex`**
  - **Goal**: AAAI table caption placement.
  - **Key edits**: moved `\caption{...}` to appear **under** each table.

- **`paper/algorithms/oak_loop.tex`**
  - **Goal**: Eliminate internal inconsistency (`K` mismatches).
  - **Key edits**: replaced hard-coded `K=8` in the algorithm with a symbolic `K` and note of the run-time value.

- **`paper/figures/trace_example.tex`**
  - **Goal**: Make trace figure consistent with the actual output format.
  - **Key edits**: updated to `<Option type="..." args="[...]"/>` and consistent `CONCLUDE` encoding.

- **`paper/figures/architecture_v2.tex`**
  - **Goal**: Avoid margin overflow and reduce caption verbosity.
  - **Key edits**: adjusted scaling and shortened caption.

---

## Tooling / workflow patches

- **`paper/tools/inline_tex.py`**
  - **Goal**: Produce a single-file `.tex` with no `\input{...}` for camera-ready source submission workflows.
  - **Outputs**:
    - `paper/sokrates_single.tex`
    - `paper/sokrates_single.pdf`

---

## Verification steps performed

- Rebuilt PDFs after changes using `pdflatex`/`bibtex`/`pdflatex` x2.
- Confirmed **no `Overfull \hbox`** warnings in both:
  - `paper/sokrates.log`
  - `paper/sokrates_single.log`


